L.Control.ZoomBox=L.Control.extend({_active:!1,_map:null,includes:L.Mixin.Events,options:{position:"topleft",className:"fa fa-crop",modal:!1,title:"Zoom to specific area"},onAdd:function(a){this._map=a,this._container=L.DomUtil.create("div","leaflet-zoom-box-control leaflet-bar"),this._container.title=this.options.title;var b=L.DomUtil.create("a",this.options.className,this._container);b.href="#";var c=a.boxZoom._onMouseDown;return a.boxZoom._onMouseDown=function(b){c.call(a.boxZoom,{clientX:b.clientX,clientY:b.clientY,which:1,shiftKey:!0})},a.on("zoomend",function(){a.getZoom()==a.getMaxZoom()?L.DomUtil.addClass(b,"leaflet-disabled"):L.DomUtil.removeClass(b,"leaflet-disabled")},this),this.options.modal||a.on("boxzoomend",this.deactivate,this),L.DomEvent.on(this._container,"dblclick",L.DomEvent.stop).on(this._container,"click",L.DomEvent.stop).on(this._container,"mousedown",L.DomEvent.stopPropagation).on(this._container,"click",function(){this._active=!this._active,this._active&&a.getZoom()!=a.getMaxZoom()?this.activate():this.deactivate()},this),this._container},activate:function(){L.DomUtil.addClass(this._container,"active"),this._map.dragging.disable(),this._map.boxZoom.addHooks(),L.DomUtil.addClass(this._map.getContainer(),"leaflet-zoom-box-crosshair")},deactivate:function(){L.DomUtil.removeClass(this._container,"active"),this._map.dragging.enable(),this._map.boxZoom.removeHooks(),L.DomUtil.removeClass(this._map.getContainer(),"leaflet-zoom-box-crosshair"),this._active=!1}}),L.control.zoomBox=function(a){return new L.Control.ZoomBox(a)};